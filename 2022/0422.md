## [swift] æ§‹é€ ä½“ã¨ã‚¯ãƒ©ã‚¹ã‚’ã©ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã¹ãã‹ã«ãŠã‘ã‚‹ã€å…¬å¼ã®è¦‹è§£

- ã‚½ãƒ¼ã‚¹: https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes
- 2022/4/22 æ™‚ç‚¹

å…¬å¼ã¨ã—ã¦ã“ã‚Œã‚’è«–ãšã‚‹ã®ã«å‡ºã—ã¦ã„ã‚‹è¦³ç‚¹ãŒ4ã¤ã‚ã‚‹

> Use structures by default.
> Use classes when you need Objective-C interoperability.
> Use classes when you need to control the identity of the data you're modeling.
> Use structures along with protocols to adopt behavior by sharing implementations.

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹é€ ä½“ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨

ã‚¯ãƒ©ã‚¹ã‚’è¤‡æ•°ç®‡æ‰€ã§æ‰±ã£ãŸå ´åˆã€å‚ç…§ã‚’ä¿æŒã™ã‚‹ãŸã‚ã‚³ãƒ”ãƒ¼å…ƒã‚‚å½±éŸ¿ã‚’å—ã‘ã‚‹ã“ã¨ã«ãªã‚Šã€ä½¿ç”¨ç®‡æ‰€ã§ã©ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‹åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŒã€å€¤å‹ã§ã‚ã‚‹structã®å ´åˆã¯ã‚³ãƒ”ãƒ¼å…ƒã«å½±éŸ¿ã‚’å—ã‘ã‚‹ã“ã¨ãªãã€å®Ÿæ…‹ãã®ã‚‚ã®ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ãŸã‚
å„ç®‡æ‰€ã§ã©ã†ãªã£ã¦ã„ã‚‹ã‹å‡¦ç†ã‚’è¿½ã„ã‚„ã™ã„ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚ã¾ãŸã‚¯ãƒ©ã‚¹ã¨ä¼¼ãŸã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°å®Ÿç¾ãŒå¯èƒ½ã§ã‚ã‚Šã€ç¶™æ‰¿ã¯ã§ããªã„ã‚‚ã®ã®protocolã‚’é€šã˜ã¦ç¶™æ‰¿ã¨åŒã˜ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã‚ã‚‹ã€‚

ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãªãã€å±€æ‰€çš„ãªéƒ¨åˆ†ã®ç¢ºèªã§ã™ã‚€

### Obective-c ã¨ã®ç›¸äº’é‹ç”¨æ€§ã«æ°—ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€classãŒè‰¯ã„å¯èƒ½æ€§ãŒã‚ã‚‹

objective-cã§ã¯ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–ã‚’å‰æã¨ã—ã¦ã„ã‚‹ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€objective-cã‚‚åŒæ§˜ã«ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã‚±ãƒ¼ã‚¹ãƒã‚¤ã‚±ãƒ¼ã‚¹ã ã¨æ€ã†ãŒã€structã®ä½¿ç”¨ã§ã¯ãªãã‚¯ãƒ©ã‚¹ã®åˆ©ç”¨ãŒè‰¯ã„å ´é¢ãŒã‚ã‚Šãã†ã ã¨ã„ã†ã“ã¨

### åŒä¸€æ¦‚å¿µæ€§ã‚’æ„è­˜ã—ãŸæ–¹ãŒã„ã„å ´åˆã¯ã€ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ãŸæ–¹ãŒã„ã„ã“ã¨

(åŒä¸€æ¦‚å¿µæ€§ã¨ã¯ã€structã«ã¯ãªã„ã‚¯ãƒ©ã‚¹ã®æŒã£ã¦ã„ã‚‹æŒ¯ã‚‹èˆã„ã€‚)
ã‚¢ãƒ—ãƒªå…¨ä½“ã§ä¸€ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚ã‚‹å¿…è¦ãŒå¥½ã¾ã—ã„å ´åˆ

å…¬å¼ã§ã¯å³è¨˜ã®ã‚ˆã†ãªã“ã¨è¨€ã£ã¦ã„ã‚‹ `Common use cases are file handles, network connections, and shared hardware intermediaries like CBCentralManager.`

### å®Ÿè£…ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹æŒ¯ã‚‹èˆã„ã®å…±æœ‰ã¯ã€protocol ã¨ struct ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã†

> ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹é€ ä½“ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ 

ã“ã“ã§è¿°ã¹ãŸ

## [swift] rxswift, debug

logã‚’åãå‡ºã›ã‚‹

```
stateMachine.asObservable()
            .map { $0 as? XXXXError }.skipNil()
            .debug("ğŸ˜€!!! AuthAvailableError not nil", trimOutput: true)
            .map { XXXError($0.throwable) }
            .bind(to: updateErrorHandlingVM.inputs.error)
            .disposed(by: disposeBag)
        
```
